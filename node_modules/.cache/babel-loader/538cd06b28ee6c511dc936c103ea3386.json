{"ast":null,"code":"var _jsxFileName = \"/Users/chendian/Desktop/Projet/Personnelle/Portofolio/src/components/Blog/AppTFReact.js\";\nimport React, { Component } from 'react';\n\nclass AppTFReact extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 6,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 7,\n        columnNumber: 17\n      }\n    }, \" Build an APP in React Native for Image Recognition with TensorFlow\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 8,\n        columnNumber: 17\n      }\n    }, \"On February 04, 2020, TensorFlow posted a \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://blog.tensorflow.org/2020/02/tensorflowjs-for-react-native-is-here.html\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 8,\n        columnNumber: 62\n      }\n    }, \"blog\"), \"formally announcing its support for React Native. The Google Brain Team developed a new  platform of integration suited to the React Native environment. The tfjs-react-native package supports GPU backend, Model Loading and Saving, Training, Image &amp Video Handling. In this blog, we will mainly talk about how to deploy a pre-trained model of image classification in React-Native for offline image recognition.\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 17\n      }\n    }, \"Introduction & Motivation \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 17\n      }\n    }, \"I came across this topic during my internship that the company asked me to make an app in React-Native which identifies products by taking photos. React Native is a framework developed by Facebook for building apps of ios and android. It mainly uses Javascript for coding. For conveience, I trained the model of image classification in TensorFlow python. Thanks to this fresh tfjs-react-native package, we can now deploy models trained in python in the envrionment Javascript. This blog will not talk about how to train an image classification model in TensorFlow python, but will focus on how to deploy the model in React Native.\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }\n    }, \"Model Preparation \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }\n    }, \"We could find numerous pre-trained models for image classification in \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://tfhub.dev/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 90\n      }\n    }, \"TensorFlow hub\"), \". For exemple, we can select :\", /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 25\n      }\n    }, \"Problem domain: Image Classfication \"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 25\n      }\n    }, \"Architecture: MobileNet V2\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 25\n      }\n    }, \"Dataset: ImageNet(ILSVRC-2012-CLS)\")), \"Of course, we could choose another architecture or dataset. It depends on what scenario you want to apply it to. Here we have chosen MobileNet V2 as it is an optimised neural network architecture for efficient on-device image classification and related tasks. The dataset ImageNet is also one of the most used dataset for image classification. In addition to these basic options, we need to pay more attention to the size of the input image that the model requires. Take \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://tfhub.dev/google/imagenet/mobilenet_v2_140_224/classification/4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 174\n      }\n    }, \"this model\"), \"for example, its input size is 224x224 pixels. It means that each input image should be treated to fit the input size of the model before using the model.\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    }, \"Then we can train a customized model from these pre-trained models with the technique Transfer Learning. This will acquire our propre dataset and some basic knowledge of machine learning. We're not going to get into that this time. Generally, we will train the model in TensorFlow for python. The format of the trained model will be SavedModel.\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    }, \"Conversion of the model\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }\n    }, \"Since the environment of React Native is Javascriptwe, we have to convert the SavedModel in .js format with \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://github.com/tensorflow/tfjs/tree/master/tfjs-converter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 129\n      }\n    }, \"TF.js converter\"), \" to get the model in .js. So why we don't use the js format of pre-trained model from the hub ? Let's firstly see the config parameters of the converter and explain why. After installation as guided, we can convert the model with these conversion flags:\", /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    }, \"input_format=tf_saved_model\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 25\n      }\n    }, \"output_format=tfjs_graph_model\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 25\n      }\n    }, \"weight_shard_size_bytes= 4MB/8MB/...\")), \"The converter will generate a model.json with a bunch of group1-shard1ofN.bin files. Since the tfjs-react-native package only supports one group1-shard.bin file, we have to set the flag weight_shard_size_bytes as large as it could to make sure that only one group-shard.bin file will be generated. Actually, the model of .js format downloaded from the hub contain piles of group-shard.bin files which can not be used in React-Native.\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, \"Deployment in React Native\"), /*#__PURE__*/React.createElement(\"iframe\", {\n      width: \"560\",\n      height: \"315\",\n      src: \"https://www.youtube.com/embed/dNqdTC97NVM\",\n      frameborder: \"0\",\n      allow: \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n      allowfullscreen: true,\n      title: \"Video: Demo mobile APP for Image Recognition by taking photos \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.youtube.com/embed/dNqdTC97NVM\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }\n    }, \"Fallback link for browsers that don't support iframes\"))));\n  }\n\n}\n\nexport default AppTFReact;","map":{"version":3,"sources":["/Users/chendian/Desktop/Projet/Personnelle/Portofolio/src/components/Blog/AppTFReact.js"],"names":["React","Component","AppTFReact","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,MAAMC,UAAN,SAAyBD,SAAzB,CAAkC;AAC9BE,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6EADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAA6C;AAAG,MAAA,IAAI,EAAC,gFAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA7C,iaAFJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCARJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,goBATJ,eAeI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAfJ,eAgBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8FAAyE;AAAG,MAAA,IAAI,EAAC,oBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAzE,iDACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAHJ,CADJ,0eAQ6J;AAAG,MAAA,IAAI,EAAC,yEAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAR7J,+JAhBJ,eA2BI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kWA3BJ,eAgCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAhCJ,eAiCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oIACgH;AAAG,MAAA,IAAI,EAAC,+DAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADhH,gRAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAHJ,CAJJ,sbAjCJ,eA8CI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCA9CJ,eAmDI;AAAQ,MAAA,KAAK,EAAC,KAAd;AAAoB,MAAA,MAAM,EAAC,KAA3B;AACI,MAAA,GAAG,EAAC,2CADR;AACoD,MAAA,WAAW,EAAC,GADhE;AAEI,MAAA,KAAK,EAAC,0FAFV;AAGI,MAAA,eAAe,MAHnB;AAGoB,MAAA,KAAK,EAAC,gEAH1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,IAAI,EAAC,2CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DADJ,CAJJ,CAnDJ,CADJ;AAkEH;;AApE6B;;AAuElC,eAAeD,UAAf","sourcesContent":["import React, { Component } from 'react';\n\nclass AppTFReact extends Component{\n    render() {\n        return (\n            <div > \n                <h3> Build an APP in React Native for Image Recognition with TensorFlow</h3>\n                <p>On February 04, 2020, TensorFlow posted a <a href=\"https://blog.tensorflow.org/2020/02/tensorflowjs-for-react-native-is-here.html\">blog</a> \n                formally announcing its support for React Native. The Google Brain Team developed a new  platform of integration suited to the React Native environment. \n                The tfjs-react-native package supports GPU backend, Model Loading and Saving, Training, Image &amp Video Handling. In this blog, we will mainly talk about \n                how to deploy a pre-trained model of image classification in React-Native for offline image recognition.    \n                </p>\n\n                <h4>Introduction & Motivation </h4>\n                <p>I came across this topic during my internship that the company asked me to make an app in React-Native which identifies products by taking photos.\n                    React Native is a framework developed by Facebook for building apps of ios and android. It mainly uses Javascript for coding. For conveience, I trained the model of \n                    image classification in TensorFlow python. Thanks to this fresh tfjs-react-native package, we can now deploy models trained in python in the envrionment Javascript.\n                    This blog will not talk about how to train an image classification model in TensorFlow python, but will focus on how to deploy the model in React Native.\n                </p>\n\n                <h4>Model Preparation </h4>\n                <p>We could find numerous pre-trained models for image classification in <a href='https://tfhub.dev/'>TensorFlow hub</a>. For exemple, we can select :\n                    <ul>\n                        <li>Problem domain: Image Classfication </li>\n                        <li>Architecture: MobileNet V2</li>\n                        <li>Dataset: ImageNet(ILSVRC-2012-CLS)</li>\n                    </ul>\n                    Of course, we could choose another architecture or dataset. It depends on what scenario you want to apply it to. Here we have chosen MobileNet V2 \n                    as it is an optimised neural network architecture for efficient on-device image classification and related tasks. The dataset ImageNet is also one of the most used dataset\n                    for image classification. In addition to these basic options, we need to pay more attention to the size of the input image that the model requires. Take <a href='https://tfhub.dev/google/imagenet/mobilenet_v2_140_224/classification/4'>this model</a> \n                    for example, its input size is 224x224 pixels. It means that each input image should be treated to fit the input size of the model before using the model.\n                </p>   \n                <p> \n                    Then we can train a customized model from these pre-trained models with the technique Transfer Learning. This will acquire our propre dataset and some basic knowledge\n                    of machine learning. We're not going to get into that this time. Generally, we will train the model in TensorFlow for python. The format of the trained model will be SavedModel.    \n                </p>\n\n                <h4>Conversion of the model</h4>\n                <p>\n                    Since the environment of React Native is Javascriptwe, we have to convert the SavedModel in .js format with <a href='https://github.com/tensorflow/tfjs/tree/master/tfjs-converter'>TF.js converter</a> to get the model in .js. \n                    So why we don't use the js format of pre-trained model from the hub ? Let's firstly see the config parameters of the converter and explain why.\n                    After installation as guided, we can convert the model with these conversion flags:\n                    <ul>\n                        <li>input_format=tf_saved_model</li>\n                        <li>output_format=tfjs_graph_model</li>\n                        <li>weight_shard_size_bytes= 4MB/8MB/...</li>\n                    </ul> \n                    The converter will generate a model.json with a bunch of group1-shard1ofN.bin files. Since the tfjs-react-native package only supports one group1-shard.bin file, we have to set the flag weight_shard_size_bytes\n                    as large as it could to make sure that only one group-shard.bin file will be generated. Actually, the model of .js format downloaded from the hub contain piles of group-shard.bin files which can not be used in React-Native.             \n                </p>\n\n                <h4>Deployment in React Native</h4>\n\n                    \n\n\n                <iframe width=\"560\" height=\"315\" \n                    src=\"https://www.youtube.com/embed/dNqdTC97NVM\" frameborder=\"0\" \n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \n                    allowfullscreen title='Video: Demo mobile APP for Image Recognition by taking photos '> \n                    <p> \n                        <a href=\"https://www.youtube.com/embed/dNqdTC97NVM\">\n                        Fallback link for browsers that don't support iframes\n                        </a>\n                    </p>\n                </iframe>\n\n            </div>\n\n        );\n    }\n}\n\nexport default AppTFReact;"]},"metadata":{},"sourceType":"module"}